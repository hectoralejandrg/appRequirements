{% extends 'base.html' %}

{% block logout %}
<div id="print" class="container">
    <div class="container mt-5 d-flex justify-content-between">
        <a class="btn btn-secondary" href="{% url 'employee:list_requirements' %}">Regresar</a>

        <button class="btn btn-success" onclick="print()" > <i class="fa fa-print" aria-hidden="true"></i> </button>
    </div>
</div>
<div class="container mt-2">
    <div>
        <h3>N. registro: {{object.code}}</h3>
    </div>
    <div class="text-center">
        <img src="../../static/img/gadlogo.png" alt="logo del gad">
    </div>
    <div class="text-center mt-2">
        <h4>UNIDAD DE ADMINISTRACION DE TALENTO HUMANO</h4>
        <h4>SOLICITUD DE PERMISOS - POR DIA / HORAS</h4>
    </div>
    <p class="mt-5">FECHA DE ENTREGA DE SOLICITUD: {{object.date_requirement}}</p>

    <table class="table table-bordered mt-2">
        <thead>
            <tr>
                <th scope="col">CEDULA</th>
                <th scope="col">DIRECCION / JEFATURA</th>
                <th scope="col">APELLIDOS Y NOMBRES</th>
                <th scope="col">FECHA DE PERMISO</th>
                <th scope="col">HORA DE SALIDA</th>
                <th scope="col">HORA DE LLEGADA</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>{{object.employee.identification}}</td>
                <td>{{object.employee.jefatura.description}}</td>
                <td>{{object.employee.lastname}} {{object.employee.name}}</td>
                <td>{{object.date_requirement}}</td>
                <td>{{object.date_start}}</td>
                <td>{{object.date_end}}</td>
            </tr>
        </tbody>
    </table>
    <div class="d-flex align-items-center">
        <p class="fs-4 me-1"><strong>Motivo: </strong></p>
        <p class="fs-4"> {{object.reason.name}}</p>
    </div>
    <div class="d-flex justify-content-between mt-5">
        <div class="text-center">
            <p>_____________________________</p>
            <p>SOLICITANTE</p>
            <p>{{object.employee.name}} {{object.employee.lastname}}</p>
        </div>

        <div class="text-center">
            <p>_____________________________</p>
            <p>RECIBIDO Y CONTABILIZADO</p>
            <p>UNIDAD DE ADMINISTRACIÃ“N</p>
            <p>DE TALENTO HUMANO</p>
        </div>
    </div>

    <div class="d-flex justify-content-center mt-3">
        <div class="text-center">
            <p>_____________________________</p>
            <p>VISTO BUENO DE JEFE INMEDIATO</p>
        </div>
    </div>
</div>
{% endblock %}

{% block js %}
<script>
    const hiddenPrint = () => {
        const print = document.getElementById('print')
        print.className += " visually-hidden"
    }
    
    const print = () => {
        hiddenPrint();
        window.print();
    }

    window.onafterprint = function(event) {
        const print = document.getElementById('print')
        print.className = "container"
    };
</script>
{% endblock %}